{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d2ef0717655c1f278ac0","webpack:///./src/index.js"],"names":["Subject","_observers","Set","observer","add","stop","delete","Store","state","actions","_state","_subject","_addActions","subscribe","name","action","args","oldState","newState","publish","_addAction"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;KCtCMA,O;;;;UACJC,U,GAAa,IAAIC,GAAJ,E;;;;;+BAEHC,Q,EAAU;AAAA;;AAClB,YAAKF,UAAL,CAAgBG,GAAhB,CAAoBD,QAApB;AACA,cAAO;AACLE,eAAM;AAAA,kBAAM,MAAKJ,UAAL,CAAgBK,MAAhB,CAAuBH,QAAvB,CAAN;AAAA;AADD,QAAP;AAGD;;;+BAEgB;AAAA;AAAA;AAAA;;AAAA;AACf,8BAAqB,KAAKF,UAA1B,8HAAsC;AAAA,eAA7BE,QAA6B;;AACpCA;AACD;AAHc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIhB;;;;;;KAGGI,K;AACJ,wBAAgC;AAAA,SAAlBC,KAAkB,QAAlBA,KAAkB;AAAA,SAAXC,OAAW,QAAXA,OAAW;;AAAA;;AAC9B,UAAKC,MAAL,GAAcF,KAAd;AACA,UAAKG,QAAL,GAAgB,IAAIX,OAAJ,EAAhB;AACA,UAAKS,OAAL,GAAe,EAAf;AACA,UAAKG,WAAL,CAAiBH,OAAjB;AACD;;;;gCAEU;AACT,cAAO,KAAKC,MAAZ;AACD;;;+BAESP,Q,EAAU;AAClB,cAAO,KAAKQ,QAAL,CAAcE,SAAd,CAAwBV,QAAxB,CAAP;AACD;;;gCAEUW,I,EAAMC,M,EAAQ;AAAA;;AACvB,YAAKN,OAAL,CAAcK,IAAd,IAAuB,YAAa;AAAA,2CAATE,IAAS;AAATA,eAAS;AAAA;;AAClC,aAAMC,WAAW,OAAKP,MAAtB;AACA,aAAMQ,WAAWH,yBAAOE,QAAP,SAAoBD,IAApB,EAAjB;AACA,gBAAKN,MAAL,GAAcQ,QAAd;AACA,gBAAKP,QAAL,CAAcQ,OAAd,CAAsBD,QAAtB,EAAgCD,QAAhC;AACD,QALD;AAMD;;;mCAEyB;AAAA,WAAdR,OAAc,uEAAJ,EAAI;;AACxB,YAAK,IAAIK,IAAT,IAAiBL,OAAjB,EAA0B;AACxB,aAAMM,SAASN,QAASK,IAAT,CAAf;AACA,cAAKM,UAAL,CAAgBN,IAAhB,EAAsBC,MAAtB;AACD;AACF;;;;;;mBAGYR,K","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ObservableStateStore\"] = factory();\n\telse\n\t\troot[\"ObservableStateStore\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d2ef0717655c1f278ac0\n **/","class Subject {\n  _observers = new Set();\n\n  subscribe(observer) {\n    this._observers.add(observer);\n    return {\n      stop: () => this._observers.delete(observer)\n    }\n  }\n\n  publish(...args) {\n    for (let observer of this._observers) {\n      observer(...args);\n    }\n  }\n}\n\nclass Store {\n  constructor({ state, actions }) {\n    this._state = state;\n    this._subject = new Subject();\n    this.actions = {};\n    this._addActions(actions);\n  }\n\n  getState() {\n    return this._state;\n  }\n\n  subscribe(observer) {\n    return this._subject.subscribe(observer);\n  }\n\n  _addAction(name, action) {\n    this.actions[ name ] = (...args) => {\n      const oldState = this._state;\n      const newState = action(oldState, ...args);\n      this._state = newState;\n      this._subject.publish(newState, oldState);\n    }\n  }\n\n  _addActions(actions = {}) {\n    for (let name in actions) {\n      const action = actions[ name ];\n      this._addAction(name, action);\n    }\n  }\n}\n\nexport default Store;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/"],"sourceRoot":""}