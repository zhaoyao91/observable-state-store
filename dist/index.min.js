!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ObservableStateStore=e():t.ObservableStateStore=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(){r(this,t),this._observers=new Set}return n(t,[{key:"subscribe",value:function(t){var e=this;return this._observers.add(t),{stop:function(){return e._observers.delete(t)}}}},{key:"publish",value:function(){var t=!0,e=!1,r=void 0;try{for(var n,o=this._observers[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;i.apply(void 0,arguments)}}catch(t){e=!0,r=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw r}}}}]),t}(),i=function(){function t(e){var n=e.state,i=e.actions;r(this,t),this._state=n,this._subject=new o,this.actions={},this._addActions(i)}return n(t,[{key:"getState",value:function(){return this._state}},{key:"subscribe",value:function(t){return this._subject.subscribe(t)}},{key:"_addAction",value:function(t,e){var r=this;this.actions[t]=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=r._state,a=e.apply(void 0,[i].concat(n));r._state=a,r._subject.publish(a,i)}}},{key:"_addActions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in t){var r=t[e];this._addAction(e,r)}}}]),t}();e.default=i}])});
//# sourceMappingURL=index.min.js.map
